<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ SME Business Intelligence Dashboard</title>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #111827;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 24px;
            min-height: 100vh;
        }

        .header {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            padding: 24px;
            margin-bottom: 32px;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 24px;
        }

        .header-brand {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .header-brand h1 {
            font-size: 1.75rem;
            font-weight: bold;
            color: #111827;
        }

        .company-info {
            background: linear-gradient(135deg, #2563eb, #1d4ed8);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .plan-badge {
            background: #fef3c7;
            color: #92400e;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .plan-badge.professional {
            background: #dbeafe;
            color: #1e40af;
        }

        .plan-badge.enterprise {
            background: #f3e8ff;
            color: #7c3aed;
        }

        .user-menu {
            position: relative;
            display: inline-block;
        }

        .user-button {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            border: none;
            background: #f3f4f6;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        .user-button:hover {
            background: #e5e7eb;
        }

        .user-dropdown {
            position: absolute;
            right: 0;
            top: 100%;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 8px 0;
            min-width: 200px;
            display: none;
            z-index: 1000;
        }

        .user-dropdown.show {
            display: block;
        }

        .dropdown-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 16px;
            color: #374151;
            text-decoration: none;
            font-size: 14px;
            transition: all 0.3s;
        }

        .dropdown-item:hover {
            background: #f3f4f6;
        }

        .dropdown-divider {
            height: 1px;
            background: #e5e7eb;
            margin: 8px 0;
        }

        /* SME SUCCESS CELEBRATIONS */
        .success-banner {
            background: linear-gradient(135deg, #00b894, #00a085);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 24px;
            animation: slideInDown 0.6s ease-out;
        }

        @keyframes slideInDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .success-content {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .success-icon {
            font-size: 2.5em;
        }

        .success-text h3 {
            font-size: 1.4em;
            margin-bottom: 8px;
        }

        .success-text p {
            opacity: 0.9;
            font-size: 1.1em;
        }

        /* ROI TRACKER */
        .roi-tracker {
            background: linear-gradient(135deg, #fd79a8, #fdcb6e);
            color: white;
            padding: 24px;
            border-radius: 12px;
            margin-bottom: 24px;
            text-align: center;
        }

        .roi-amount {
            font-size: 3em;
            font-weight: bold;
            margin-bottom: 8px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .roi-subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }

        /* ACHIEVEMENT SYSTEM */
        .achievements {
            display: flex;
            gap: 16px;
            margin-bottom: 24px;
            overflow-x: auto;
            padding: 8px 0;
        }

        .achievement {
            background: white;
            border-radius: 12px;
            padding: 16px;
            min-width: 200px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 3px solid transparent;
            transition: all 0.3s;
        }

        .achievement.unlocked {
            border-color: #00b894;
            background: linear-gradient(135deg, #e8f5e8, #f0fdf4);
        }

        .achievement.locked {
            opacity: 0.6;
        }

        .achievement-icon {
            font-size: 2em;
            margin-bottom: 8px;
        }

        .achievement-title {
            font-weight: bold;
            margin-bottom: 4px;
        }

        .achievement-desc {
            font-size: 12px;
            color: #666;
        }

        .filters {
            display: flex;
            align-items: center;
            gap: 16px;
            flex-wrap: wrap;
        }

        .filter-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-select {
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 14px;
            background: white;
            cursor: pointer;
        }

        .btn {
            padding: 8px 16px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
        }

        .btn-primary {
            background-color: #2563eb;
            color: white;
        }

        .btn-primary:hover {
            background-color: #1d4ed8;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background-color: #f3f4f6;
            color: #374151;
        }

        .btn-secondary:hover {
            background-color: #e5e7eb;
        }

        .btn-success {
            background: linear-gradient(135deg, #00b894, #00a085);
            color: white;
        }

        .btn-pack {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            font-weight: 600;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .stat-card {
            background: white;
            border-radius: 12px;
            border: 1px solid #e5e7eb;
            padding: 24px;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .stat-card:hover {
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            transform: translateY(-2px);
        }

        .stat-card.success {
            border-color: #00b894;
            background: linear-gradient(135deg, #e8f5e8, #f0fdf4);
        }

        .stat-card.warning {
            border-color: #f59e0b;
            background: linear-gradient(135deg, #fef3c7, #fffbeb);
        }

        .stat-card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }

        .stat-card-content h3 {
            font-size: 14px;
            font-weight: 500;
            color: #6b7280;
            margin-bottom: 8px;
        }

        .stat-card-content .value {
            font-size: 2.2rem;
            font-weight: bold;
            color: #111827;
            margin-bottom: 4px;
        }

        .stat-card-content .change {
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .change.positive {
            color: #059669;
        }

        .change.negative {
            color: #dc2626;
        }

        .stat-icon {
            padding: 12px;
            background-color: #eff6ff;
            border-radius: 8px;
        }

        .stat-icon i {
            width: 24px;
            height: 24px;
            color: #2563eb;
        }

        /* SMART RECOMMENDATIONS */
        .recommendations {
            background: white;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 32px;
            border-left: 4px solid #74b9ff;
        }

        .recommendations h3 {
            color: #2563eb;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .recommendation-item {
            background: #f8fafc;
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 12px;
            border-left: 3px solid #00b894;
        }

        .recommendation-item:last-child {
            margin-bottom: 0;
        }

        .recommendation-title {
            font-weight: 600;
            color: #111827;
            margin-bottom: 4px;
        }

        .recommendation-desc {
            color: #6b7280;
            font-size: 14px;
        }

        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .chart-card {
            background: white;
            border-radius: 12px;
            border: 1px solid #e5e7eb;
            padding: 24px;
            transition: all 0.3s;
        }

        .chart-card:hover {
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .chart-card h3 {
            font-size: 1.125rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .chart-container {
            position: relative;
            height: 300px;
        }

        .full-width-chart {
            grid-column: 1 / -1;
        }

        /* PACK PERFORMANCE SECTION */
        .pack-performance {
            background: white;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 32px;
        }

        .pack-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .pack-card {
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            border-radius: 12px;
            padding: 20px;
            border: 2px solid #e2e8f0;
            transition: all 0.3s;
        }

        .pack-card:hover {
            border-color: #74b9ff;
            transform: translateY(-2px);
        }

        .pack-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .pack-icon {
            font-size: 2em;
        }

        .pack-title {
            font-size: 1.2em;
            font-weight: bold;
        }

        .pack-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .pack-stat {
            text-align: center;
            padding: 8px;
            background: white;
            border-radius: 6px;
        }

        .pack-stat-value {
            font-size: 1.4em;
            font-weight: bold;
            color: #2563eb;
        }

        .pack-stat-label {
            font-size: 12px;
            color: #6b7280;
        }

        .tables-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .table-card {
            background: white;
            border-radius: 12px;
            border: 1px solid #e5e7eb;
            padding: 24px;
        }

        .table-card h3 {
            font-size: 1.125rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 16px;
        }

        .data-table {
            width: 100%;
            font-size: 14px;
        }

        .data-table th {
            text-align: left;
            padding: 12px 0;
            font-weight: 500;
            color: #374151;
            border-bottom: 1px solid #e5e7eb;
        }

        .data-table td {
            padding: 12px 0;
            border-bottom: 1px solid #f3f4f6;
        }

        .qr-name {
            font-weight: 500;
            color: #111827;
        }

        .qr-id {
            font-size: 12px;
            color: #6b7280;
        }

        .badge {
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        .badge-success {
            background-color: #d1fae5;
            color: #065f46;
        }

        .badge-warning {
            background-color: #fef3c7;
            color: #92400e;
        }

        .badge-info {
            background-color: #dbeafe;
            color: #1e40af;
        }

        .realtime-toggle {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        .realtime-toggle.active {
            background-color: #d1fae5;
            color: #065f46;
        }

        .realtime-toggle.inactive {
            background-color: #f3f4f6;
            color: #374151;
        }

        .spinning {
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* RESPONSIVE DESIGN */
        @media (max-width: 768px) {
            .container {
                padding: 16px;
            }

            .header-top {
                flex-direction: column;
                gap: 16px;
                align-items: flex-start;
            }

            .filters {
                flex-direction: column;
                align-items: flex-start;
            }

            .charts-grid {
                grid-template-columns: 1fr;
            }

            .tables-grid {
                grid-template-columns: 1fr;
            }

            .chart-container {
                height: 250px;
            }

            .achievements {
                flex-direction: column;
            }

            .achievement {
                min-width: auto;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- SUCCESS CELEBRATION BANNER -->
        <div class="success-banner" id="successBanner" style="display: none;">
            <div class="success-content">
                <div class="success-icon">üéâ</div>
                <div class="success-text">
                    <h3 id="successTitle">Congratulations!</h3>
                    <p id="successMessage">You've just achieved a new milestone!</p>
                </div>
            </div>
        </div>

        <!-- ROI SAVINGS TRACKER -->
        <div class="roi-tracker">
            <div class="roi-amount" id="totalSavings">¬£12,847</div>
            <div class="roi-subtitle">You've saved vs expensive agencies! üí∞</div>
        </div>

        <!-- ACHIEVEMENT SYSTEM -->
        <div class="achievements">
            <div class="achievement unlocked">
                <div class="achievement-icon">üöÄ</div>
                <div class="achievement-title">First QR Code</div>
                <div class="achievement-desc">Created your first QR code</div>
            </div>
            <div class="achievement unlocked">
                <div class="achievement-icon">üìà</div>
                <div class="achievement-title">100 Scans</div>
                <div class="achievement-desc">Reached 100 total scans</div>
            </div>
            <div class="achievement unlocked">
                <div class="achievement-icon">üéØ</div>
                <div class="achievement-title">Pack Master</div>
                <div class="achievement-desc">Used 3 different packs</div>
            </div>
            <div class="achievement locked">
                <div class="achievement-icon">üèÜ</div>
                <div class="achievement-title">QR Legend</div>
                <div class="achievement-desc">Reach 1,000 scans</div>
            </div>
        </div>

        <!-- Header with User Info -->
        <div class="header">
            <div class="header-top">
                <div class="header-brand">
                    <h1>üìä Your Business Intelligence</h1>
                    <div class="company-info" id="companyInfo">
                        Mario's Italian Kitchen
                    </div>
                </div>
                <div class="user-info">
                    <span class="plan-badge professional" id="planBadge">Professional</span>
                    <div class="user-menu">
                        <button class="user-button" onclick="toggleUserMenu()">
                            <i data-lucide="user"></i>
                            <span id="userName">Mario Rossi</span>
                            <i data-lucide="chevron-down"></i>
                        </button>
                        <div class="user-dropdown" id="userDropdown">
                            <a href="#" class="dropdown-item">
                                <i data-lucide="user"></i>
                                Account Settings
                            </a>
                            <a href="#" class="dropdown-item">
                                <i data-lucide="credit-card"></i>
                                Billing & Plans
                            </a>
                            <a href="#" class="dropdown-item">
                                <i data-lucide="users"></i>
                                Team Management
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item">
                                <i data-lucide="help-circle"></i>
                                Help & Support
                            </a>
                            <a href="#" class="dropdown-item" onclick="logout()">
                                <i data-lucide="log-out"></i>
                                Sign Out
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SMART RECOMMENDATIONS -->
            <div class="recommendations" id="smartRecommendations">
                <h3>
                    <i data-lucide="lightbulb"></i>
                    Smart Business Insights
                </h3>
                <div class="recommendation-item">
                    <div class="recommendation-title">üçΩÔ∏è Your menu QR is performing amazing!</div>
                    <div class="recommendation-desc">67% more scans than average restaurants. Consider promoting your specials QR to drive more sales.</div>
                </div>
                <div class="recommendation-item">
                    <div class="recommendation-title">üì± Peak scanning time: 7-9 PM</div>
                    <div class="recommendation-desc">Most customers scan during dinner hours. Perfect time to promote special offers or new dishes.</div>
                </div>
                <div class="recommendation-item">
                    <div class="recommendation-title">üéØ Ready for website upgrade?</div>
                    <div class="recommendation-desc">With 450+ QR scans, adding a professional website could increase bookings by 40%. Save ¬£9,900 vs agencies!</div>
                </div>
            </div>

            <!-- Filters -->
            <div class="filters">
                <div class="filter-group">
                    <i data-lucide="calendar"></i>
                    <select class="filter-select" id="timeRange">
                        <option value="1d">Last 24 hours</option>
                        <option value="7d" selected>Last 7 days</option>
                        <option value="30d">Last 30 days</option>
                        <option value="90d">Last 90 days</option>
                    </select>
                </div>
                <select class="filter-select" id="qrFilter">
                    <option value="all">All My QR Codes</option>
                    <option value="restaurant">Restaurant Pack</option>
                    <option value="retail">Retail Pack</option>
                    <option value="website">Website Builder</option>
                </select>
                <button class="realtime-toggle inactive" id="realtimeToggle" onclick="toggleRealTime()">
                    <i data-lucide="refresh-cw" id="refreshIcon"></i>
                    <span id="realtimeText">Real-time OFF</span>
                </button>
                <button class="btn btn-primary">
                    <i data-lucide="download"></i>
                    Export My Data
                </button>
                <button class="btn btn-secondary" onclick="createNewQR()">
                    <i data-lucide="plus"></i>
                    Create Custom QR
                </button>
                <button class="btn btn-pack" onclick="createRestaurantPack()">
                    üçΩÔ∏è Restaurant Pack
                </button>
                <button class="btn btn-pack" onclick="createRetailPack()">
                    üõçÔ∏è Retail Pack  
                </button>
                <button class="btn btn-pack" onclick="createWebsiteBuilder()">
                    üíª Website Builder
                </button>
            </div>
        </div>

        <!-- Key Metrics -->
        <div class="stats-grid">
            <div class="stat-card success">
                <div class="stat-card-header">
                    <div class="stat-card-content">
                        <h3>Total Customer Interactions</h3>
                        <div class="value" id="myTotalScans">4,567</div>
                        <div class="change positive">
                            <i data-lucide="trending-up"></i>
                            +23.4% vs last period
                        </div>
                    </div>
                    <div class="stat-icon">
                        <i data-lucide="users"></i>
                    </div>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-card-header">
                    <div class="stat-card-content">
                        <h3>Active QR Solutions</h3>
                        <div class="value" id="myActiveQRs">8</div>
                        <div class="change positive">
                            <i data-lucide="trending-up"></i>
                            +3 this month
                        </div>
                    </div>
                    <div class="stat-icon">
                        <i data-lucide="qr-code"></i>
                    </div>
                </div>
            </div>

            <div class="stat-card success">
                <div class="stat-card-header">
                    <div class="stat-card-content">
                        <h3>Customer Engagement Rate</h3>
                        <div class="value" id="myConversionRate">47.2%</div>
                        <div class="change positive">
                            <i data-lucide="trending-up"></i>
                            +12.1% vs industry average
                        </div>
                    </div>
                    <div class="stat-icon">
                        <i data-lucide="target"></i>
                    </div>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-card-header">
                    <div class="stat-card-content">
                        <h3>Money Saved vs Agencies</h3>
                        <div class="value" id="moneySaved">¬£12,847</div>
                        <div class="change positive">
                            <i data-lucide="piggy-bank"></i>
                            97% savings achieved
                        </div>
                    </div>
                    <div class="stat-icon">
                        <i data-lucide="pound-sterling"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- PACK PERFORMANCE SECTION -->
        <div class="pack-performance">
            <h3 style="margin-bottom: 16px; display: flex; align-items: center; gap: 8px;">
                <i data-lucide="package"></i>
                Your Business Packs Performance
            </h3>
            <div class="pack-grid">
                <div class="pack-card">
                    <div class="pack-header">
                        <div class="pack-icon">üçΩÔ∏è</div>
                        <div>
                            <div class="pack-title">Restaurant Pack</div>
                            <div style="font-size: 12px; color: #6b7280;">Menu, WiFi, Reviews, Booking</div>
                        </div>
                    </div>
                    <div class="pack-stats">
                        <div class="pack-stat">
                            <div class="pack-stat-value">2,847</div>
                            <div class="pack-stat-label">Total Scans</div>
                        </div>
                        <div class="pack-stat">
                            <div class="pack-stat-value">89%</div>
                            <div class="pack-stat-label">Menu QR Usage</div>
                        </div>
                        <div class="pack-stat">
                            <div class="pack-stat-value">156</div>
                            <div class="pack-stat-label">WiFi Connects</div>
                        </div>
                        <div class="pack-stat">
                            <div class="pack-stat-value">23</div>
                            <div class="pack-stat-label">New Reviews</div>
                        </div>
                    </div>
                </div>

                <div class="pack-card">
                    <div class="pack-header">
                        <div class="pack-icon">üõçÔ∏è</div>
                        <div>
                            <div class="pack-title">Retail Pack</div>
                            <div style="font-size: 12px; color: #6b7280;">Products, Social, Loyalty, Support</div>
                        </div>
                    </div>
                    <div class="pack-stats">
                        <div class="pack-stat">
                            <div class="pack-stat-value">1,234</div>
                            <div class="pack-stat-label">Product Views</div>
                        </div>
                        <div class="pack-stat">
                            <div class="pack-stat-value">67%</div>
                            <div class="pack-stat-label">Social Follows</div>
                        </div>
                        <div class="pack-stat">
                            <div class="pack-stat-value">45</div>
                            <div class="pack-stat-label">Loyalty Signups</div>
                        </div>
                        <div class="pack-stat">
                            <div class="pack-stat-value">12</div>
                            <div class="pack-stat-label">Support Tickets</div>
                        </div>
                    </div>
                </div>

                <div class="pack-card">
                    <div class="pack-header">
                        <div class="pack-icon">üíª</div>
                        <div>
                            <div class="pack-title">Website Builder</div>
                            <div style="font-size: 12px; color: #6b7280;">Landing Page, Forms, Analytics</div>
                        </div>
                    </div>
                    <div class="pack-stats">
                        <div class="pack-stat">
                            <div class="pack-stat-value">486</div>
                            <div class="pack-stat-label">Website Views</div>
                        </div>
                        <div class="pack-stat">
                            <div class="pack-stat-value">8.4%</div>
                            <div class="pack-stat-label">Conversion Rate</div>
                        </div>
                        <div class="pack-stat">
                            <div class="pack-stat-value">34</div>
                            <div class="pack-stat-label">Form Submissions</div>
                        </div>
                        <div class="pack-stat">
                            <div class="pack-stat-value">2:45</div>
                            <div class="pack-stat-label">Avg Time on Site</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="charts-grid">
            <div class="chart-card">
                <h3>
                    <i data-lucide="bar-chart-3"></i>
                    Daily Customer Interactions
                </h3>
                <div class="chart-container">
                    <canvas id="dailyScansChart"></canvas>
                </div>
            </div>

            <div class="chart-card">
                <h3>
                    <i data-lucide="pie-chart"></i>
                    QR Code Performance
                </h3>
                <div class="chart-container">
                    <canvas id="qrPerformanceChart"></canvas>
                </div>
            </div>

            <div class="chart-card full-width-chart">
                <h3>
                    <i data-lucide="trending-up"></i>
                    Customer Engagement Trends
                </h3>
                <div class="chart-container">
                    <canvas id="engagementTrendsChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Data Tables -->
        <div class="tables-grid">
            <div class="table-card">
                <h3>Top Performing QR Codes</h3>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>QR Code</th>
                            <th>Scans</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div class="qr-name">üçΩÔ∏è Menu QR</div>
                                <div class="qr-id">QR-MENU-001</div>
                            </td>
                            <td>1,847</td>
                            <td><span class="badge badge-success">Active</span></td>
                        </tr>
                        <tr>
                            <td>
                                <div class="qr-name">üì∂ WiFi QR</div>
                                <div class="qr-id">QR-WIFI-002</div>
                            </td>
                            <td>1,234</td>
                            <td><span class="badge badge-success">Active</span></td>
                        </tr>
                        <tr>
                            <td>
                                <div class="qr-name">‚≠ê Reviews QR</div>
                                <div class="qr-id">QR-REV-003</div>
                            </td>
                            <td>567</td>
                            <td><span class="badge badge-warning">Needs Boost</span></td>
                        </tr>
                        <tr>
                            <td>
                                <div class="qr-name">üìÖ Booking QR</div>
                                <div class="qr-id">QR-BOOK-004</div>
                            </td>
                            <td>432</td>
                            <td><span class="badge badge-info">Growing</span></td>
                        </tr>
                        <tr>
                            <td>
                                <div class="qr-name">üõçÔ∏è Products QR</div>
                                <div class="qr-id">QR-PROD-005</div>
                            </td>
                            <td>487</td>
                            <td><span class="badge badge-success">Active</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="table-card">
                <h3>Recent Customer Activity</h3>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Time</th>
                            <th>QR Code</th>
                            <th>Location</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>2 mins ago</td>
                            <td>Menu QR</td>
                            <td>Table 7</td>
                        </tr>
                        <tr>
                            <td>5 mins ago</td>
                            <td>WiFi QR</td>
                            <td>Table 3</td>
                        </tr>
                        <tr>
                            <td>8 mins ago</td>
                            <td>Menu QR</td>
                            <td>Table 12</td>
                        </tr>
                        <tr>
                            <td>12 mins ago</td>
                            <td>Reviews QR</td>
                            <td>Table 5</td>
                        </tr>
                        <tr>
                            <td>15 mins ago</td>
                            <td>Booking QR</td>
                            <td>Reception</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // Global variables for real-time updates
        let realtimeInterval;
        let isRealtimeActive = false;

        // Sample data for charts
        const chartData = {
            dailyScans: {
                labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                data: [234, 456, 345, 567, 789, 890, 678]
            },
            qrPerformance: {
                labels: ['Menu QR', 'WiFi QR', 'Reviews QR', 'Booking QR', 'Products QR'],
                data: [1847, 1234, 567, 432, 487]
            },
            engagementTrends: {
                labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
                data: [2100, 2800, 3200, 4567]
            }
        };

        // Initialize charts
        function initializeCharts() {
            // Daily Scans Chart
            const dailyCtx = document.getElementById('dailyScansChart').getContext('2d');
            new Chart(dailyCtx, {
                type: 'bar',
                data: {
                    labels: chartData.dailyScans.labels,
                    datasets: [{
                        label: 'Customer Interactions',
                        data: chartData.dailyScans.data,
                        backgroundColor: 'rgba(37, 99, 235, 0.8)',
                        borderColor: 'rgba(37, 99, 235, 1)',
                        borderWidth: 2,
                        borderRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(0,0,0,0.1)'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });

            // QR Performance Chart
            const qrCtx = document.getElementById('qrPerformanceChart').getContext('2d');
            new Chart(qrCtx, {
                type: 'doughnut',
                data: {
                    labels: chartData.qrPerformance.labels,
                    datasets: [{
                        data: chartData.qrPerformance.data,
                        backgroundColor: [
                            '#2563eb',
                            '#00b894',
                            '#fdcb6e',
                            '#fd79a8',
                            '#74b9ff'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                usePointStyle: true
                            }
                        }
                    }
                }
            });

            // Engagement Trends Chart
            const trendsCtx = document.getElementById('engagementTrendsChart').getContext('2d');
            new Chart(trendsCtx, {
                type: 'line',
                data: {
                    labels: chartData.engagementTrends.labels,
                    datasets: [{
                        label: 'Total Interactions',
                        data: chartData.engagementTrends.data,
                        borderColor: '#00b894',
                        backgroundColor: 'rgba(0, 184, 148, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: '#00b894',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 3,
                        pointRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(0,0,0,0.1)'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });
        }

        // User menu functionality
        function toggleUserMenu() {
            const dropdown = document.getElementById('userDropdown');
            dropdown.classList.toggle('show');
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            const userMenu = document.querySelector('.user-menu');
            const dropdown = document.getElementById('userDropdown');
            
            if (!userMenu.contains(event.target)) {
                dropdown.classList.remove('show');
            }
        });

        // Real-time toggle functionality
        function toggleRealTime() {
            const toggle = document.getElementById('realtimeToggle');
            const icon = document.getElementById('refreshIcon');
            const text = document.getElementById('realtimeText');
            
            isRealtimeActive = !isRealtimeActive;
            
            if (isRealtimeActive) {
                toggle.classList.remove('inactive');
                toggle.classList.add('active');
                text.textContent = 'Real-time ON';
                icon.classList.add('spinning');
                startRealtimeUpdates();
                showSuccessBanner('Real-time Updates Activated!', 'Your dashboard will now update automatically every 30 seconds.');
            } else {
                toggle.classList.remove('active');
                toggle.classList.add('inactive');
                text.textContent = 'Real-time OFF';
                icon.classList.remove('spinning');
                stopRealtimeUpdates();
            }
        }

        // Start real-time updates
        function startRealtimeUpdates() {
            realtimeInterval = setInterval(() => {
                updateMetrics();
            }, 30000); // Update every 30 seconds
        }

        // Stop real-time updates
        function stopRealtimeUpdates() {
            if (realtimeInterval) {
                clearInterval(realtimeInterval);
            }
        }

        // Update metrics with simulated data
        function updateMetrics() {
            const totalScans = document.getElementById('myTotalScans');
            const currentValue = parseInt(totalScans.textContent.replace(',', ''));
            const newValue = currentValue + Math.floor(Math.random() * 10) + 1;
            totalScans.textContent = newValue.toLocaleString();
            
            // Update savings
            const savings = document.getElementById('totalSavings');
            const currentSavings = parseInt(savings.textContent.replace('¬£', '').replace(',', ''));
            const newSavings = currentSavings + Math.floor(Math.random() * 50) + 10;
            savings.textContent = `¬£${newSavings.toLocaleString()}`;
        }

        // Success banner functionality
        function showSuccessBanner(title, message) {
            const banner = document.getElementById('successBanner');
            const titleEl = document.getElementById('successTitle');
            const messageEl = document.getElementById('successMessage');
            
            titleEl.textContent = title;
            messageEl.textContent = message;
            banner.style.display = 'block';
            
            setTimeout(() => {
                banner.style.display = 'none';
            }, 5000);
        }

        // Pack creation functions
        function createRestaurantPack() {
            showSuccessBanner('Restaurant Pack Created!', 'Your complete restaurant solution is ready to boost customer engagement.');
        }

        function createRetailPack() {
            showSuccessBanner('Retail Pack Created!', 'Your retail marketing toolkit is ready to drive sales and customer loyalty.');
        }

        function createWebsiteBuilder() {
            showSuccessBanner('Website Builder Activated!', 'Your professional website is being generated. Save ¬£9,900 vs agencies!');
        }

        function createNewQR() {
            showSuccessBanner('Custom QR Created!', 'Your personalized QR code solution is ready to connect with customers.');
        }

        // Logout functionality
        function logout() {
            alert('Logging out... Your business data is securely saved!');
        }

        // Filter functionality
        document.getElementById('timeRange').addEventListener('change', function() {
            const value = this.value;
            console.log('Time range changed to:', value);
            // Here you would typically update the charts and data
        });

        document.getElementById('qrFilter').addEventListener('change', function() {
            const value = this.value;
            console.log('QR filter changed to:', value);
            // Here you would typically filter the displayed data
        });

        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeCharts();
            
            // Show welcome message after a short delay
            setTimeout(() => {
                showSuccessBanner('Welcome Back, Mario!', 'Your business is thriving! +23.4% growth this week.');
            }, 1000);
        });

        // Achievement unlocking simulation
        function checkAchievements() {
            const totalScans = parseInt(document.getElementById('myTotalScans').textContent.replace(',', ''));
            
            if (totalScans >= 5000) {
                unlockAchievement('QR Legend', 'You\'ve reached 5,000+ customer interactions!');
            }
        }

        function unlockAchievement(title, message) {
            // Find and unlock the achievement
            const achievements = document.querySelectorAll('.achievement.locked');
            achievements.forEach(achievement => {
                const achTitle = achievement.querySelector('.achievement-title');
                if (achTitle && achTitle.textContent === title) {
                    achievement.classList.remove('locked');
                    achievement.classList.add('unlocked');
                    showSuccessBanner(`üèÜ Achievement Unlocked: ${title}`, message);
                }
            });
        }

        // Simulate periodic achievement checks
        setInterval(checkAchievements, 60000); // Check every minute
    </script>
</body>
</html>